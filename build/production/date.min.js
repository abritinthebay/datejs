/** 
 * @overview datejs
 * @version 1.0.0-rc2
 * @author Gregory Wild-Smith <gregory@wild-smith.com>
 * @copyright 2014 Gregory Wild-Smith
 * @license MIT
 * @homepage https://github.com/abritinthebay/datejs
 */
/*
 2014 Gregory Wild-Smith
 @license MIT
 @homepage https://github.com/abritinthebay/datejs
*/
(function(){var g=Date,e=Date.CultureStrings?Date.CultureStrings.lang:null,b={},d={getFromKey:function(a,h){var k;k=Date.CultureStrings&&Date.CultureStrings[h]&&Date.CultureStrings[h][a]?Date.CultureStrings[h][a]:d.buildFromDefault(a);"/"===a.charAt(0)&&(k=d.buildFromRegex(a,h));return k},getFromObjectValues:function(a,h){var k,c={};for(k in a)a.hasOwnProperty(k)&&(c[k]=d.getFromKey(a[k],h));return c},getFromObjectKeys:function(a,h){var c,f={};for(c in a)a.hasOwnProperty(c)&&(f[d.getFromKey(c,h)]=
a[c]);return f},getFromArray:function(a,h){for(var c=[],f=0;f<a.length;f++)f in a&&(c[f]=d.getFromKey(a[f],h));return c},buildFromDefault:function(a){var h,c,f;switch(a){case "name":h="en-US";break;case "englishName":h="English (United States)";break;case "nativeName":h="English (United States)";break;case "twoDigitYearMax":h=2049;break;case "firstDayOfWeek":h=0;break;default:if(h=a,f=a.split("_"),c=f.length,1<c&&"/"!==a.charAt(0)&&(a=f[c-1].toLowerCase(),"initial"===a||"abbr"===a))h=f[0]}return h},
buildFromRegex:function(a,h){return Date.CultureStrings&&Date.CultureStrings[h]&&Date.CultureStrings[h][a]?RegExp(Date.CultureStrings[h][a],"i"):RegExp(a.replace(RegExp("/","g"),""),"i")}},a=function(a,h){var c=h?h:e;b[a]=a;return"object"===typeof a?a instanceof Array?d.getFromArray(a,c):d.getFromObjectKeys(a,c):d.getFromKey(a,c)},c=function(a){a=Date.Config.i18n+a+".js";var h=document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;var f={done:function(){}};
c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f.done(),h.removeChild(c))};setTimeout(function(){h.insertBefore(c,h.firstChild)},0);return{done:function(h){f.done=function(){h&&setTimeout(h,0)}}}},f={buildFromMethodHash:function(a){for(var h in a)a.hasOwnProperty(h)&&(a[h]=f[a[h]]());return a},timeZoneDST:function(){return a({CHADT:"+1345",NZDT:"+1300",AEDT:"+1100",ACDT:"+1030",AZST:"+0500",IRDT:"+0430",EEST:"+0300",CEST:"+0200",
BST:"+0100",PMDT:"-0200",ADT:"-0300",NDT:"-0230",EDT:"-0400",CDT:"-0500",MDT:"-0600",PDT:"-0700",AKDT:"-0800",HADT:"-0900"})},timeZoneStandard:function(){return a({LINT:"+1400",TOT:"+1300",CHAST:"+1245",NZST:"+1200",NFT:"+1130",SBT:"+1100",AEST:"+1000",ACST:"+0930",JST:"+0900",CWST:"+0845",CT:"+0800",ICT:"+0700",MMT:"+0630",BST:"+0600",NPT:"+0545",IST:"+0530",PKT:"+0500",AFT:"+0430",MSK:"+0400",IRST:"+0330",FET:"+0300",EET:"+0200",CET:"+0100",GMT:"+0000",UTC:"+0000",CVT:"-0100",GST:"-0200",BRT:"-0300",
NST:"-0330",AST:"-0400",EST:"-0500",CST:"-0600",MST:"-0700",PST:"-0800",AKST:"-0900",MIT:"-0930",HST:"-1000",SST:"-1100",BIT:"-1200"})},timeZones:function(a){var h;a.timezones=[];for(h in a.abbreviatedTimeZoneStandard)a.abbreviatedTimeZoneStandard.hasOwnProperty(h)&&a.timezones.push({name:h,offset:a.abbreviatedTimeZoneStandard[h]});for(h in a.abbreviatedTimeZoneDST)a.abbreviatedTimeZoneDST.hasOwnProperty(h)&&a.timezones.push({name:h,offset:a.abbreviatedTimeZoneDST[h],dst:!0});return a.timezones},
days:function(){return a("Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "))},dayAbbr:function(){return a("Sun Mon Tue Wed Thu Fri Sat".split(" "))},dayShortNames:function(){return a("Su Mo Tu We Th Fr Sa".split(" "))},dayFirstLetters:function(){return a("S_Sun_Initial M_Mon_Initial T_Tues_Initial W_Wed_Initial T_Thu_Initial F_Fri_Initial S_Sat_Initial".split(" "))},months:function(){return a("January February March April May June July August September October November December".split(" "))},
monthAbbr:function(){return a("Jan_Abbr Feb_Abbr Mar_Abbr Apr_Abbr May_Abbr Jun_Abbr Jul_Abbr Aug_Abbr Sep_Abbr Oct_Abbr Nov_Abbr Dec_Abbr".split(" "))},formatPatterns:function(){return d.getFromObjectValues({shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},
Date.i18n.currentLanguage())},regex:function(){return d.getFromObjectValues({inTheMorning:"/( in the )(morn(ing)?)\\b/",thisMorning:"/(this )(morn(ing)?)\\b/",amThisMorning:"/(\b\\d(am)? )(this )(morn(ing)?)/",inTheEvening:"/( in the )(even(ing)?)\\b/",thisEvening:"/(this )(even(ing)?)\\b/",pmThisEvening:"/(\b\\d(pm)? )(this )(even(ing)?)/",jan:"/jan(uary)?/",feb:"/feb(ruary)?/",mar:"/mar(ch)?/",apr:"/apr(il)?/",may:"/may/",jun:"/jun(e)?/",jul:"/jul(y)?/",aug:"/aug(ust)?/",sep:"/sep(t(ember)?)?/",
oct:"/oct(ober)?/",nov:"/nov(ember)?/",dec:"/dec(ember)?/",sun:"/^su(n(day)?)?/",mon:"/^mo(n(day)?)?/",tue:"/^tu(e(s(day)?)?)?/",wed:"/^we(d(nesday)?)?/",thu:"/^th(u(r(s(day)?)?)?)?/",fri:"/fr(i(day)?)?/",sat:"/^sa(t(urday)?)?/",future:"/^next/",past:"/^last|past|prev(ious)?/",add:"/^(\\+|aft(er)?|from|hence)/",subtract:"/^(\\-|bef(ore)?|ago)/",yesterday:"/^yes(terday)?/",today:"/^t(od(ay)?)?/",tomorrow:"/^tom(orrow)?/",now:"/^n(ow)?/",millisecond:"/^ms|milli(second)?s?/",second:"/^sec(ond)?s?/",
minute:"/^mn|min(ute)?s?/",hour:"/^h(our)?s?/",week:"/^w(eek)?s?/",month:"/^m(onth)?s?/",day:"/^d(ay)?s?/",year:"/^y(ear)?s?/",shortMeridian:"/^(a|p)/",longMeridian:"/^(a\\.?m?\\.?|p\\.?m?\\.?)/",timezone:"/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/",ordinalSuffix:"/^\\s*(st|nd|rd|th)/",timeContext:"/^\\s*(\\:|a(?!u|p)|p)/"},Date.i18n.currentLanguage())}},l=function(){var a=d.getFromObjectValues({name:"name",englishName:"englishName",nativeName:"nativeName",
amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:"firstDayOfWeek",twoDigitYearMax:"twoDigitYearMax",dateElementOrder:"mdy"},Date.i18n.currentLanguage()),h=f.buildFromMethodHash({dayNames:"days",abbreviatedDayNames:"dayAbbr",shortestDayNames:"dayShortNames",firstLetterDayNames:"dayFirstLetters",monthNames:"months",abbreviatedMonthNames:"monthAbbr",formatPatterns:"formatPatterns",regexPatterns:"regex",abbreviatedTimeZoneDST:"timeZoneDST",abbreviatedTimeZoneStandard:"timeZoneStandard"}),c;for(c in h)h.hasOwnProperty(c)&&
(a[c]=h[c]);f.timeZones(a);return a};g.i18n={__:function(c,h){return a(c,h)},currentLanguage:function(){return e||"en-US"},setLanguage:function(a,h,f){var d=!1;if(h||"en-US"===a||Date.CultureStrings&&Date.CultureStrings[a])e=a,Date.CultureStrings=Date.CultureStrings||{},Date.CultureStrings.lang=a,Date.CultureInfo=new l;else if(!Date.CultureStrings||!Date.CultureStrings[a])if("undefined"!==typeof exports&&this.exports!==exports)try{require("../i18n/"+a+".js"),e=a,Date.CultureStrings.lang=a,Date.CultureInfo=
new l}catch(b){throw Error("The DateJS IETF language tag '"+a+"' could not be loaded by Node. It likely does not exist.");}else Date.Config&&Date.Config.i18n?(d=!0,c(a).done(function(){e=a;Date.CultureStrings=Date.CultureStrings||{};Date.CultureStrings.lang=a;Date.CultureInfo=new l;g.Parsing.Normalizer.buildReplaceData();g.Grammar&&g.Grammar.buildGrammarFormats();f&&setTimeout(f,0)})):Date.console.error("The DateJS IETF language tag '"+a+"' is not available and has not been loaded.");g.Parsing.Normalizer.buildReplaceData();
g.Grammar&&g.Grammar.buildGrammarFormats();!d&&f&&setTimeout(f,0)},getLoggedKeys:function(){return b},updateCultureInfo:function(){Date.CultureInfo=new l}};g.i18n.updateCultureInfo()})();
(function(){var g=Date,e=g.prototype,b=function(a,c){c||(c=2);return("000"+a).slice(-1*c)};g.console="undefined"!==typeof window&&"undefined"!==typeof window.console&&"undefined"!==typeof window.console.log?console:{log:function(){},error:function(){}};g.Config=g.Config||{};g.initOverloads=function(){g.now?g._now||(g._now=g.now):g._now=function(){return(new Date).getTime()};g.now=function(a){return a?g.present():g._now()};e.toISOString||(e.toISOString=function(){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+
1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"});void 0===e._toString&&(e._toString=e.toString)};g.initOverloads();e.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};e.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());
return this};g.today=function(){return(new Date).clearTime()};g.present=function(){return new Date};g.compare=function(a,c){if(isNaN(a)||isNaN(c))throw Error(a+" - "+c);if(a instanceof Date&&c instanceof Date)return a<c?-1:a>c?1:0;throw new TypeError(a+" - "+c);};g.equals=function(a,c){return 0===a.compareTo(c)};g.getDayName=function(a){return Date.CultureInfo.dayNames[a]};g.getDayNumberFromName=function(a){var c=Date.CultureInfo.dayNames,f=Date.CultureInfo.abbreviatedDayNames,d=Date.CultureInfo.shortestDayNames;
a=a.toLowerCase();for(var b=0;b<c.length;b++)if(c[b].toLowerCase()===a||f[b].toLowerCase()===a||d[b].toLowerCase()===a)return b;return-1};g.getMonthNumberFromName=function(a){var c=Date.CultureInfo.monthNames,f=Date.CultureInfo.abbreviatedMonthNames;a=a.toLowerCase();for(var b=0;b<c.length;b++)if(c[b].toLowerCase()===a||f[b].toLowerCase()===a)return b;return-1};g.getMonthName=function(a){return Date.CultureInfo.monthNames[a]};g.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};g.getDaysInMonth=
function(a,c){!c&&g.validateMonth(a)&&(c=a,a=Date.today().getFullYear());return[31,g.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][c]};e.getDaysInMonth=function(){return g.getDaysInMonth(this.getFullYear(),this.getMonth())};g.getTimezoneAbbreviation=function(a,c){var f,b=c?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(f in b)if(b.hasOwnProperty(f)&&b[f]===a)return f;return null};g.getTimezoneOffset=function(a,c){var f,b=[],d=Date.CultureInfo.timezones;
a||(a=(new Date).getTimezone());for(f=0;f<d.length;f++)d[f].name===a.toUpperCase()&&b.push(f);if(!d[b[0]])return null;if(1!==b.length&&c)for(f=0;f<b.length;f++){if(d[b[f]].dst)return d[b[f]].offset}else return d[b[0]].offset};g.getQuarter=function(a){a=a||new Date;return[1,2,3,4][Math.floor(a.getMonth()/3)]};g.getDaysLeftInQuarter=function(a){a=a||new Date;var c=new Date(a);c.setMonth(c.getMonth()+3-c.getMonth()%3,0);return Math.floor((c-a)/864E5)};e.clone=function(){return new Date(this.getTime())};
e.compareTo=function(a){return Date.compare(this,a)};e.equals=function(a){return Date.equals(this,void 0!==a?a:new Date)};e.between=function(a,c){return this.getTime()>=a.getTime()&&this.getTime()<=c.getTime()};e.isAfter=function(a){return 1===this.compareTo(a||new Date)};e.isBefore=function(a){return-1===this.compareTo(a||new Date)};e.isToday=e.isSameDay=function(a){return this.clone().clearTime().equals((a||new Date).clone().clearTime())};e.addMilliseconds=function(a){if(!a)return this;this.setTime(this.getTime()+
1*a);return this};e.addSeconds=function(a){return a?this.addMilliseconds(1E3*a):this};e.addMinutes=function(a){return a?this.addMilliseconds(6E4*a):this};e.addHours=function(a){return a?this.addMilliseconds(36E5*a):this};e.addDays=function(a){if(!a)return this;this.setDate(this.getDate()+1*a);return this};e.addWeekdays=function(a){if(!a)return this;var c=this.getDay(),f=Math.ceil(Math.abs(a)/7);(0===c||6===c)&&0<a&&(this.next().monday(),this.addDays(-1));if(0>a){for(;0>a;)this.addDays(-1),c=this.getDay(),
0!==c&&6!==c&&a++;return this}if(5<a||6-c<=a)a+=2*f;return this.addDays(a)};e.addWeeks=function(a){return a?this.addDays(7*a):this};e.addMonths=function(a){if(!a)return this;var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+1*a);this.setDate(Math.min(c,g.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};e.addQuarters=function(a){return a?this.addMonths(3*a):this};e.addYears=function(a){return a?this.addMonths(12*a):this};e.add=function(a){if("number"===typeof a)return this._orient=
a,this;a.day&&0!==a.day-this.getDate()&&this.setDate(a.day);a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};e.getWeek=function(a){var c=new Date(this.valueOf());a?(c.addMinutes(c.getTimezoneOffset()),a=c.clone()):a=this;a=(a.getDay()+6)%7;c.setDate(c.getDate()-
a+3);a=c.valueOf();c.setMonth(0,1);4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7);return 1+Math.ceil((a-c)/6048E5)};e.getISOWeek=function(){return b(this.getWeek(!0))};e.setWeek=function(a){return 0===a-this.getWeek()?1!==this.getDay()?this.moveToDayOfWeek(1,1<this.getDay()?-1:1):this:this.moveToDayOfWeek(1,1<this.getDay()?-1:1).addWeeks(a-this.getWeek())};e.setQuarter=function(a){a=Math.abs(3*(a-1)+1);return this.setMonth(a,1)};e.getQuarter=function(){return Date.getQuarter(this)};e.getDaysLeftInQuarter=
function(){return Date.getDaysLeftInQuarter(this)};var d=function(a,c,f,b){if("undefined"===typeof a)return!1;if("number"!==typeof a)throw new TypeError(a+" is not a Number.");return a<c||a>f?!1:!0};g.validateMillisecond=function(a){return d(a,0,999,"millisecond")};g.validateSecond=function(a){return d(a,0,59,"second")};g.validateMinute=function(a){return d(a,0,59,"minute")};g.validateHour=function(a){return d(a,0,23,"hour")};g.validateDay=function(a,c,f){return void 0===c||null===c||void 0===f||
null===f?!1:d(a,1,g.getDaysInMonth(c,f),"day")};g.validateWeek=function(a){return d(a,0,53,"week")};g.validateMonth=function(a){return d(a,0,11,"month")};g.validateYear=function(a){return d(a,-271822,275760,"year")};g.validateTimezone=function(a){return 1==={ACDT:1,ACST:1,ACT:1,ADT:1,AEDT:1,AEST:1,AFT:1,AKDT:1,AKST:1,AMST:1,AMT:1,ART:1,AST:1,AWDT:1,AWST:1,AZOST:1,AZT:1,BDT:1,BIOT:1,BIT:1,BOT:1,BRT:1,BST:1,BTT:1,CAT:1,CCT:1,CDT:1,CEDT:1,CEST:1,CET:1,CHADT:1,CHAST:1,CHOT:1,ChST:1,CHUT:1,CIST:1,CIT:1,
CKT:1,CLST:1,CLT:1,COST:1,COT:1,CST:1,CT:1,CVT:1,CWST:1,CXT:1,DAVT:1,DDUT:1,DFT:1,EASST:1,EAST:1,EAT:1,ECT:1,EDT:1,EEDT:1,EEST:1,EET:1,EGST:1,EGT:1,EIT:1,EST:1,FET:1,FJT:1,FKST:1,FKT:1,FNT:1,GALT:1,GAMT:1,GET:1,GFT:1,GILT:1,GIT:1,GMT:1,GST:1,GYT:1,HADT:1,HAEC:1,HAST:1,HKT:1,HMT:1,HOVT:1,HST:1,ICT:1,IDT:1,IOT:1,IRDT:1,IRKT:1,IRST:1,IST:1,JST:1,KGT:1,KOST:1,KRAT:1,KST:1,LHST:1,LINT:1,MAGT:1,MART:1,MAWT:1,MDT:1,MET:1,MEST:1,MHT:1,MIST:1,MIT:1,MMT:1,MSK:1,MST:1,MUT:1,MVT:1,MYT:1,NCT:1,NDT:1,NFT:1,NPT:1,
NST:1,NT:1,NUT:1,NZDT:1,NZST:1,OMST:1,ORAT:1,PDT:1,PET:1,PETT:1,PGT:1,PHOT:1,PHT:1,PKT:1,PMDT:1,PMST:1,PONT:1,PST:1,PYST:1,PYT:1,RET:1,ROTT:1,SAKT:1,SAMT:1,SAST:1,SBT:1,SCT:1,SGT:1,SLST:1,SRT:1,SST:1,SYOT:1,TAHT:1,THA:1,TFT:1,TJT:1,TKT:1,TLT:1,TMT:1,TOT:1,TVT:1,UCT:1,ULAT:1,UTC:1,UYST:1,UYT:1,UZT:1,VET:1,VLAT:1,VOLT:1,VOST:1,VUT:1,WAKT:1,WAST:1,WAT:1,WEDT:1,WEST:1,WET:1,WST:1,YAKT:1,YEKT:1,Z:1}[a]};g.validateTimezoneOffset=function(a){return-841<a&&721>a};var a=function(a){var c={},f=this,b,d;d=function(c,
b,d){if("day"===c){c=void 0!==a.month?a.month-f.getMonth():f.getMonth();var e=void 0!==a.year?a.year-f.getFullYear():f.getFullYear();return g[b](d,e,c)}return g[b](d)};for(b in a)if(hasOwnProperty.call(a,b)){var e="validate"+b.charAt(0).toUpperCase()+b.slice(1);g[e]&&null!==a[b]&&d(b,e,a[b])&&(c[b]=a[b])}return c};e.set=function(c){c=a.call(this,c);for(var f in c)if(hasOwnProperty.call(c,f)){var b=f.charAt(0).toUpperCase()+f.slice(1),d,e;"week"!==f&&"month"!==f&&"timezone"!==f&&"timezoneOffset"!==
f&&(b+="s");d="add"+b;e="get"+b;"month"===f?d+="s":"year"===f&&(e="getFullYear");if("day"!==f&&"timezone"!==f&&"timezoneOffset"!==f&&"week"!==f)this[d](c[f]-this[e]());else if("timezone"===f||"timezoneOffset"===f||"week"===f)this["set"+b](c[f])}c.day&&this.addDays(c.day-this.getDate());return this};e.moveToFirstDayOfMonth=function(){return this.set({day:1})};e.moveToLastDayOfMonth=function(){return this.set({day:g.getDaysInMonth(this.getFullYear(),this.getMonth())})};e.moveToNthOccurrence=function(a,
c){if("Weekday"===a){if(0<c)this.moveToFirstDayOfMonth(),this.is().weekday()&&(c-=1);else if(0>c)this.moveToLastDayOfMonth(),this.is().weekday()&&(c+=1);else return this;return this.addWeekdays(c)}var f=0;if(0<c)f=c-1;else if(-1===c)return this.moveToLastDayOfMonth(),this.getDay()!==a&&this.moveToDayOfWeek(a,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,1).addWeeks(f)};var c=function(a,c,f){return function(b,d){var e=(b-this[a]()+f*(d||1))%f;return this[c](0===e?e+f*(d||
1):e)}};e.moveToDayOfWeek=c("getDay","addDays",7);e.moveToMonth=c("getMonth","addMonths",12);e.getOrdinate=function(){var a=this.getDate();return f(a)};e.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864E5)+1};e.getTimezone=function(){return g.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())};e.setTimezoneOffset=function(a){var c=this.getTimezoneOffset();return(a=-6*Number(a)/10)||0===a?this.addMinutes(a-c):this};e.setTimezone=
function(a){return this.setTimezoneOffset(g.getTimezoneOffset(a))};e.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};e.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()};e.getUTCOffset=function(a){a=-10*(a||this.getTimezoneOffset())/6;if(0>a)return a=(a-1E4).toString(),a.charAt(0)+a.substr(2);a=(a+1E4).toString();return"+"+a.substr(1)};
e.getElapsed=function(a){return(a||new Date)-this};var f=function(a){switch(1*a){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},l=function(a){var c=Date.CultureInfo.formatPatterns;switch(a){case "d":return this.toString(c.shortDate);case "D":return this.toString(c.longDate);case "F":return this.toString(c.fullDateTime);case "m":return this.toString(c.monthDay);case "r":case "R":return a=this.clone().addMinutes(this.getTimezoneOffset()),a.toString(c.rfc1123)+
" GMT";case "s":return this.toString(c.sortableDateTime);case "t":return this.toString(c.shortTime);case "T":return this.toString(c.longTime);case "u":return a=this.clone().addMinutes(this.getTimezoneOffset()),a.toString(c.universalSortableDateTime);case "y":return this.toString(c.yearMonth);default:return!1}},m=function(a){return function(c){if("\\"===c.charAt(0))return c.replace("\\","");switch(c){case "hh":return b(13>a.getHours()?0===a.getHours()?12:a.getHours():a.getHours()-12);case "h":return 13>
a.getHours()?0===a.getHours()?12:a.getHours():a.getHours()-12;case "HH":return b(a.getHours());case "H":return a.getHours();case "mm":return b(a.getMinutes());case "m":return a.getMinutes();case "ss":return b(a.getSeconds());case "s":return a.getSeconds();case "yyyy":return b(a.getFullYear(),4);case "yy":return b(a.getFullYear());case "y":return a.getFullYear();case "dddd":return Date.CultureInfo.dayNames[a.getDay()];case "ddd":return Date.CultureInfo.abbreviatedDayNames[a.getDay()];case "dd":return b(a.getDate());
case "d":return a.getDate();case "MMMM":return Date.CultureInfo.monthNames[a.getMonth()];case "MMM":return Date.CultureInfo.abbreviatedMonthNames[a.getMonth()];case "MM":return b(a.getMonth()+1);case "M":return a.getMonth()+1;case "t":return 12>a.getHours()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case "tt":return 12>a.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case "S":return f(a.getDate());case "W":return a.getWeek();case "WW":return a.getISOWeek();
case "Q":return"Q"+a.getQuarter();case "q":return String(a.getQuarter());default:return c}}};e.toString=function(a,c){if(!c&&a&&1===a.length&&(output=l.call(this,a)))return output;var f=m(this);return a?a.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,f).replace(/\[|\]/g,""):this._toString()}})();
(function(){var g=Date,e=g.prototype,b=Number.prototype;e._orient=1;e._nth=null;e._is=!1;e._same=!1;e._isSecond=!1;b._dateElement="days";e.next=function(){this._move=!0;this._orient=1;return this};g.next=function(){return g.today().next()};e.last=e.prev=e.previous=function(){this._move=!0;this._orient=-1;return this};g.last=g.prev=g.previous=function(){return g.today().last()};e.is=function(){this._is=!0;return this};e.same=function(){this._same=!0;this._isSecond=!1;return this};e.today=function(){return this.same().day()};
e.weekday=function(){return this._nth?m("Weekday").call(this):this._move?this.addWeekdays(this._orient):this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};e.weekend=function(){return this._is?(this._is=!1,this.is().sat()||this.is().sun()):!1};e.at=function(a){return"string"===typeof a?g.parse(this.toString("d")+" "+a):this.set(a)};b.fromNow=b.after=function(a){var c={};c[this._dateElement]=this;return(a?a.clone():new Date).add(c)};b.ago=b.before=function(a){var c={};c["s"!==this._dateElement[this._dateElement.length-
1]?this._dateElement+"s":this._dateElement]=-1*this;return(a?a.clone():new Date).add(c)};var d="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),a="january february march april may june july august september october november december".split(/\s/),c="Millisecond Second Minute Hour Day Week Month Year Quarter Weekday".split(/\s/),f="Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter".split(/\s/),l="final first second third fourth fifth".split(/\s/);e.toObject=function(){for(var a=
{},b=0;b<c.length;b++)this["get"+f[b]]&&(a[c[b].toLowerCase()]=this["get"+f[b]]());return a};g.fromObject=function(a){a.week=null;return Date.today().set(a)};var m=function(a){return function(){if(this._is)return this._is=!1,this.getDay()===a;this._move&&(this._move=null);if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient);this._isSecond=!1;var c=this._nth;this._nth=null;var f=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(a,c);if(this>f)throw new RangeError(g.getDayName(a)+
" does not occur "+c+" times in the month of "+g.getMonthName(f.getMonth())+" "+f.getFullYear()+".");return this}return this.moveToDayOfWeek(a,this._orient)}},h=function(a,c,f){for(var b=0;b<a.length;b++)g[a[b].toUpperCase()]=g[a[b].toUpperCase().substring(0,3)]=b,g[a[b]]=g[a[b].substring(0,3)]=c(b),e[a[b]]=e[a[b].substring(0,3)]=f(b)};h(d,function(a){return function(){var c=g.today(),f=a-c.getDay();0===a&&1===Date.CultureInfo.firstDayOfWeek&&0!==c.getDay()&&(f+=7);return c.addDays(f)}},m);h(a,function(a){return function(){return g.today().set({month:a,
day:1})}},function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}});for(var a=function(a){return function(f){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var b=this.toObject();f=(f||new Date).toObject();for(var d="",e=a.toLowerCase(),e="s"===e[e.length-1]?e.substring(0,e.length-1):e,l=c.length-1;-1<l;l--){d=c[l].toLowerCase();if(b[d]!==f[d])return!1;if(e===d)break}return!0}"s"!==a.substring(a.length-
1)&&(a+="s");this._move&&(this._move=null);return this["add"+a](this._orient)}},h=function(a){return function(){this._dateElement=a;return this}},k=0;k<c.length;k++)d=c[k].toLowerCase(),"weekday"!==d&&(e[d]=e[d+"s"]=a(c[k]),b[d]=b[d+"s"]=h(d+"s"));e._ss=a("Second");b=function(a){return function(c){if(this._same)return this._ss(c);if(c||0===c)return this.moveToNthOccurrence(c,a);this._nth=a;return 2!==a||void 0!==c&&null!==c?this:(this._isSecond=!0,this.addSeconds(this._orient))}};for(d=0;d<l.length;d++)e[l[d]]=
0===d?b(-1):b(d)})();
(function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};var g=Date.Parsing,e=[0,31,59,90,120,151,181,212,243,273,304,334],b=[0,31,60,91,121,152,182,213,244,274,305,335];g.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};var d={multiReplace:function(a,c){for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var b;"function"!==typeof c[f]&&(b=c[f]instanceof RegExp?c[f]:RegExp(c[f],"g"));a=a.replace(b,f)}return a},getDayOfYearFromWeek:function(a){var c;
a.weekDay=a.weekDay||0===a.weekDay?a.weekDay:1;c=new Date(a.year,0,4);c=(0===c.getDay()?7:c.getDay())+3;a.dayOfYear=7*a.week+(0===a.weekDay?7:a.weekDay)-c;return a},getDayOfYear:function(a,c){a.dayOfYear||(a=d.getDayOfYearFromWeek(a));for(var f=0;f<=c.length;f++)if(a.dayOfYear<c[f]||f===c.length){a.day=a.day?a.day:a.dayOfYear-c[f-1];break}else a.month=f;return a},adjustForTimeZone:function(a,c){var f;"Z"===a.zone.toUpperCase()||0===a.zone_hours&&0===a.zone_minutes?f=-c.getTimezoneOffset():(f=60*a.zone_hours+
(a.zone_minutes||0),"+"===a.zone_sign&&(f*=-1),f-=c.getTimezoneOffset());c.setMinutes(c.getMinutes()+f);return c},setDefaults:function(a){a.year=a.year||Date.today().getFullYear();a.hours=a.hours||0;a.minutes=a.minutes||0;a.seconds=a.seconds||0;a.milliseconds=a.milliseconds||0;if(a.month||!a.week&&!a.dayOfYear)a.month=a.month||0,a.day=a.day||1;return a},dataNum:function(a,c,f,b){var d=1*a;return c?b?a?1*c(a):a:a?c(d):a:f?a&&"undefined"!==typeof a?d:a:a?d:a},timeDataProcess:function(a){var c={},f;
for(f in a.data)a.data.hasOwnProperty(f)&&(c[f]=a.ignore[f]?a.data[f]:d.dataNum(a.data[f],a.mods[f],a.explict[f],a.postProcess[f]));a.data.secmins&&(a.data.secmins=60*a.data.secmins.replace(",","."),c.minutes?c.seconds||(c.seconds=a.data.secmins):c.minutes=a.data.secmins,delete a.secmins);return c},buildTimeObjectFromData:function(a){return d.timeDataProcess({data:{year:a[1],month:a[5],day:a[7],week:a[8],dayOfYear:a[10],hours:a[15],zone_hours:a[23],zone_minutes:a[24],zone:a[21],zone_sign:a[22],weekDay:a[9],
minutes:a[16],seconds:a[19],milliseconds:a[20],secmins:a[18]},mods:{month:function(a){return a-1},weekDay:function(a){a=Math.abs(a);return 7===a?0:a},minutes:function(a){return a.replace(":","")},seconds:function(a){return Math.floor(1*a.replace(":","").replace(",","."))},milliseconds:function(a){return 1E3*a.replace(",",".")}},postProcess:{minutes:!0,seconds:!0,milliseconds:!0},explict:{zone_hours:!0,zone_minutes:!0},ignore:{zone:!0,zone_sign:!0,secmins:!0}})},addToHash:function(a,c,f){for(var b=
c.length,d=0;d<b;d++)a[c[d]]=f[d];return a},combineRegex:function(a,c){return RegExp("(("+a.source+")\\s("+c.source+"))")},getDateNthString:function(a,c,f){if(a)return Date.today().addDays(f).toString("d");if(c)return Date.today().last()[f]().toString("d")},buildRegexData:function(a){for(var c=[],f=a.length,b=0;b<f;b++)Array.isArray(a[b])?c.push(this.combineRegex(a[b][0],a[b][1])):c.push(a[b]);return c}};g.processTimeObject=function(a){var c;d.setDefaults(a);c=g.isLeapYear(a.year)?b:e;a.month||!a.week&&
!a.dayOfYear?a.dayOfYear=c[a.month]+a.day:d.getDayOfYear(a,c);c=new Date(a.year,a.month,a.day,a.hours,a.minutes,a.seconds,a.milliseconds);a.zone&&d.adjustForTimeZone(a,c);return c};g.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(a){a=
a.match(this.regex);if(!a||!a.length)return null;a=d.buildTimeObjectFromData(a);return a.year&&(a.year||a.month||a.day||a.week||a.dayOfYear)?g.processTimeObject(a):null}};g.Numeric={isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(a){var c,f={},b=Date.CultureInfo.dateElementOrder.split("");if(!this.isNumeric(a)||"+"===a[0]&&"-"===a[0])return null;if(5>a.length)return f.year=a,g.processTimeObject(f);a=a.match(this.regex);
if(!a||!a.length)return null;for(c=0;c<b.length;c++)switch(b[c]){case "d":f.day=a[c+1];break;case "m":f.month=a[c+1]-1;break;case "y":f.year=a[c+1]}return g.processTimeObject(f)}};g.Normalizer={regexData:function(){var a=Date.CultureInfo.regexPatterns;return d.buildRegexData([a.tomorrow,a.yesterday,[a.past,a.mon],[a.past,a.tue],[a.past,a.wed],[a.past,a.thu],[a.past,a.fri],[a.past,a.sat],[a.past,a.sun]])},basicReplaceHash:function(){var a=Date.CultureInfo.regexPatterns;return{January:a.jan.source,
February:a.feb,March:a.mar,April:a.apr,May:a.may,June:a.jun,July:a.jul,August:a.aug,September:a.sep,October:a.oct,November:a.nov,December:a.dec,"":/\bat\b/gi," ":/\s{2,}/,am:a.inTheMorning,"9am":a.thisMorning,pm:a.inTheEvening,"7pm":a.thisEvening}},keys:function(){return[d.getDateNthString(!0,!1,1),d.getDateNthString(!0,!1,-1),d.getDateNthString(!1,!0,"monday"),d.getDateNthString(!1,!0,"tuesday"),d.getDateNthString(!1,!0,"wednesday"),d.getDateNthString(!1,!0,"thursday"),d.getDateNthString(!1,!0,"friday"),
d.getDateNthString(!1,!0,"saturday"),d.getDateNthString(!1,!0,"sunday")]},buildRegexFunctions:function(){var a=Date.CultureInfo.regexPatterns,c=Date.i18n.__;this.replaceFuncs=[[RegExp("(\\b\\d\\d?("+c("AM")+"|"+c("PM")+")? )("+a.tomorrow.source.slice(1)+")","i"),function(a,c){return Date.today().addDays(1).toString("d")+" "+c}],[a.amThisMorning,function(a,c){return c}],[a.pmThisEvening,function(a,c){return c}]]},buildReplaceData:function(){this.buildRegexFunctions();this.replaceHash=d.addToHash(this.basicReplaceHash(),
this.keys(),this.regexData())},stringReplaceFuncs:function(a){for(var c=0;c<this.replaceFuncs.length;c++)a=a.replace(this.replaceFuncs[c][0],this.replaceFuncs[c][1]);return a},parse:function(a){a=this.stringReplaceFuncs(a);a=d.multiReplace(a,this.replaceHash);try{var c=a.split(/([\s\-\.\,\/\x27]+)/);3===c.length&&g.Numeric.isNumeric(c[0])&&g.Numeric.isNumeric(c[2])&&4<=c[2].length&&"d"===Date.CultureInfo.dateElementOrder[0]&&(a="1/"+c[0]+"/"+c[2])}catch(f){}return a}};g.Normalizer.buildReplaceData()})();
(function(){for(var g=Date.Parsing,e=g.Operators={rtoken:function(a){return function(f){var b=f.match(a);if(b)return[b[0],f.substring(b[0].length)];throw new g.Exception(f);}},token:function(){return function(a){return e.rtoken(RegExp("^\\s*"+a+"\\s*"))(a)}},stoken:function(a){return e.rtoken(RegExp("^"+a))},until:function(a){return function(f){for(var b=[],d=null;f.length;){try{d=a.call(this,f)}catch(e){b.push(d[0]);f=d[1];continue}break}return[b,f]}},many:function(a){return function(f){for(var b=
[],d=null;f.length;){try{d=a.call(this,f)}catch(e){break}b.push(d[0]);f=d[1]}return[b,f]}},optional:function(a){return function(f){var b=null;try{b=a.call(this,f)}catch(d){return[null,f]}return[b[0],b[1]]}},not:function(a){return function(f){try{a.call(this,f)}catch(b){return[null,f]}throw new g.Exception(f);}},ignore:function(a){return a?function(b){var d=null,d=a.call(this,b);return[null,d[1]]}:null},product:function(){for(var a=arguments[0],b=Array.prototype.slice.call(arguments,1),d=[],g=0;g<
a.length;g++)d.push(e.each(a[g],b));return d},cache:function(a){var b={},d=null;return function(e){try{d=b[e]=b[e]||a.call(this,e)}catch(h){d=b[e]=h}if(d instanceof g.Exception)throw d;return d}},any:function(){var a=arguments;return function(b){for(var d=null,e=0;e<a.length;e++)if(null!=a[e]){try{d=a[e].call(this,b)}catch(h){d=null}if(d)return d}throw new g.Exception(b);}},each:function(){var a=arguments;return function(b){for(var d=[],e=null,h=0;h<a.length;h++)if(null!=a[h]){try{e=a[h].call(this,
b)}catch(k){throw new g.Exception(b);}d.push(e[0]);b=e[1]}return[d,b]}},all:function(){var a=a;return a.each(a.optional(arguments))},sequence:function(a,b,d){b=b||e.rtoken(/^\s*/);d=d||null;return 1===a.length?a[0]:function(e){for(var h=null,k=null,n=[],p=0;p<a.length;p++){try{h=a[p].call(this,e)}catch(q){break}n.push(h[0]);try{k=b.call(this,h[1])}catch(s){k=null;break}e=k[1]}if(!h)throw new g.Exception(e);if(k)throw new g.Exception(k[1]);if(d)try{h=d.call(this,h[1])}catch(t){throw new g.Exception(h[1]);
}return[n,h?h[1]:e]}},between:function(a,b,d){d=d||a;var g=e.each(e.ignore(a),b,e.ignore(d));return function(a){a=g.call(this,a);return[[a[0][0],r[0][2]],a[1]]}},list:function(a,b,d){b=b||e.rtoken(/^\s*/);d=d||null;return a instanceof Array?e.each(e.product(a.slice(0,-1),e.ignore(b)),a.slice(-1),e.ignore(d)):e.each(e.many(e.each(a,e.ignore(b))),px,e.ignore(d))},set:function(a,b,d){b=b||e.rtoken(/^\s*/);d=d||null;return function(m){for(var h=null,k=h=null,n=null,p=[[],m],q=!1,s=0;s<a.length;s++){h=
k=null;q=1===a.length;try{h=a[s].call(this,m)}catch(t){continue}n=[[h[0]],h[1]];if(0<h[1].length&&!q)try{k=b.call(this,h[1])}catch(u){q=!0}else q=!0;q||0!==k[1].length||(q=!0);if(!q){h=[];for(q=0;q<a.length;q++)s!==q&&h.push(a[q]);h=e.set(h,b).call(this,k[1]);0<h[0].length&&(n[0]=n[0].concat(h[0]),n[1]=h[1])}n[1].length<p[1].length&&(p=n);if(0===p[1].length)break}if(0===p[0].length)return p;if(d){try{k=d.call(this,p[1])}catch(v){throw new g.Exception(p[1]);}p[1]=k[1]}return p}},forward:function(a,
b){return function(d){return a[b].call(this,d)}},replace:function(a,b){return function(d){d=a.call(this,d);return[b,d[1]]}},process:function(a,b){return function(d){d=a.call(this,d);return[b.call(this,d[0]),d[1]]}},min:function(a,b){return function(d){var e=b.call(this,d);if(e[0].length<a)throw new g.Exception(d);return e}}},b=function(a){return function(){var b=null,d=[],e;1<arguments.length?b=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(b=arguments[0]);if(b){if(e=b.shift(),
0<e.length)return b.unshift(e[void 0]),d.push(a.apply(null,b)),b.shift(),d}else return a.apply(null,arguments)}},d="optional not ignore cache".split(/\s/),a=0;a<d.length;a++)e[d[a]]=b(e[d[a]]);b=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}};d="each any all".split(/\s/);for(a=0;a<d.length;a++)e[d[a]]=b(e[d[a]])})();
(function(){var g=Date,e=function(b){for(var a=[],c=0;c<b.length;c++)b[c]instanceof Array?a=a.concat(e(b[c])):b[c]&&a.push(b[c]);return a},b=function(){if(this.meridian&&(this.hour||0===this.hour)){if("a"===this.meridian&&11<this.hour&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";if("p"===this.meridian&&12>this.hour&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";"p"===this.meridian&&12>this.hour?this.hour+=12:"a"===this.meridian&&12===this.hour&&(this.hour=
0)}};g.Translator={hour:function(b){return function(){this.hour=Number(b)}},minute:function(b){return function(){this.minute=Number(b)}},second:function(b){return function(){this.second=Number(b)}},secondAndMillisecond:function(b){return function(){var a=b.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(a[1]);this.millisecond=Number(a[2])}},meridian:function(b){return function(){this.meridian=b.slice(0,1).toLowerCase()}},timezone:function(b){return function(){var a=b.replace(/[^\d\+\-]/g,
"");a.length?this.timezoneOffset=Number(a):this.timezone=b.toLowerCase()}},day:function(b){var a=b[0];return function(){this.day=Number(a.match(/\d+/)[0]);if(1>this.day)throw"invalid day";}},month:function(b){return function(){this.month=3===b.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(b)/4:Number(b)-1;if(0>this.month)throw"invalid month";}},year:function(b){return function(){var a=Number(b);this.year=2<b.length?a:a+(a+2E3<Date.CultureInfo.twoDigitYearMax?2E3:1900)}},rday:function(b){return function(){switch(b){case "yesterday":this.days=
-1;break;case "tomorrow":this.days=1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(d){d=d instanceof Array?d:[d];for(var a=0;a<d.length;a++)d[a]&&d[a].call(this);d=new Date;!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=d.getDate());this.year||(this.year=d.getFullYear());this.month||0===this.month||(this.month=d.getMonth());this.day||(this.day=1);this.hour||(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=
0);this.millisecond||(this.millisecond=0);b.call(this);if(this.day>g.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);100>this.year&&d.setFullYear(this.year);this.timezone?d.set({timezone:this.timezone}):this.timezoneOffset&&d.set({timezoneOffset:this.timezoneOffset});return d},finish:function(d){var a,c,f;d=d instanceof Array?e(d):[d];if(0===d.length)return null;
for(a=0;a<d.length;a++)"function"===typeof d[a]&&d[a].call(this);if(!this.now||this.unit||this.operator)d=this.now||-1!=="hour minute second".indexOf(this.unit)?new Date:g.today();else return new Date;a=!!(this.days&&null!==this.days||this.orient||this.operator);c="past"===this.orient||"subtract"===this.operator?-1:1;this.month&&"week"===this.unit&&(this.value=this.month+1,delete this.month,delete this.day);!this.month&&0!==this.month||-1==="year day hour minute second".indexOf(this.unit)||(this.value||
(this.value=this.month+1),this.month=null,a=!0);a||!this.weekday||this.day||this.days||(f=Date[this.weekday](),this.day=f.getDate(),this.month||(this.month=f.getMonth()),this.year=f.getFullYear());!this.weekday||"week"===this.unit||this.day||this.days||(f=Date[this.weekday](),this.day=f.getDate(),f.getMonth()!==d.getMonth()&&(this.month=f.getMonth()));a&&this.weekday&&"month"!==this.unit&&"week"!==this.unit&&(f=d,this.unit="day",this.days=(f=g.getDayNumberFromName(this.weekday)-f.getDay())?(f+7*orient)%
7:7*orient);this.month&&"day"===this.unit&&this.operator&&(this.value||(this.value=this.month+1),this.month=null);null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value);this.month&&!this.day&&this.value&&(d.set({day:1*this.value}),a||(this.day=1*this.value));this.month||!this.value||"month"!==this.unit||this.now||(this.month=this.value,a=!0);a&&(this.month||0===this.month)&&"year"!==this.unit&&(this.unit="month",this.months=(f=this.month-d.getMonth())?(f+12*c)%12:12*c,this.month=
null);this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"===this.operator?1:-1)+(this.value||0)*c;else if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=1),this[this.unit+"s"]=this.value*c;b.call(this);!this.month&&0!==this.month||this.day||(this.day=1);if(!this.orient&&!this.operator&&"week"===this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);
if("week"===this.unit&&this.weeks&&!this.day&&!this.month)return d=Date[void 0!==this.weekday?this.weekday:"today"]().addWeeks(this.weeks),this.now&&d.setTimeToNow(),d;a&&this.timezone&&this.day&&this.days&&(this.day=this.days);return a?d.add(this):d.set(this)}}})();
(function(){var g=Date;g.Grammar={};var e=g.Parsing.Operators,b=g.Grammar,d=g.Translator,a;b.datePartDelimiter=e.rtoken(/^([\s\-\.\,\/\x27]+)/);b.timePartDelimiter=e.stoken(":");b.whiteSpace=e.rtoken(/^\s*/);b.generalDelimiter=e.rtoken(/^(([\s\,]|at|@|on)+)/);var c={};b.ctoken=function(a){var b=c[a];if(!b){for(var b=Date.CultureInfo.regexPatterns,d=a.split(/\s+/),f=[],g=0;g<d.length;g++)f.push(e.replace(e.rtoken(b[d[g]]),d[g]));b=c[a]=e.any.apply(null,f)}return b};b.ctoken2=function(a){return e.rtoken(Date.CultureInfo.regexPatterns[a])};
var f=function(a,c,d){return d?e.cache(e.process(e.each(e.rtoken(a),e.optional(b.ctoken2(d))),c)):e.cache(e.process(e.rtoken(a),c))},l={},m=function(a){l[a]=l[a]||b.format(a)[0];return l[a]};b.allformats=function(a){var b=[];if(a instanceof Array)for(var c=0;c<a.length;c++)b.push(m(a[c]));else b.push(m(a));return b};b.formats=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(m(a[c]));return e.any.apply(null,b)}return m(a)};b.buildGrammarFormats=function(){c={};b.h=f(/^(0[0-9]|1[0-2]|[1-9])/,
d.hour);b.hh=f(/^(0[0-9]|1[0-2])/,d.hour);b.H=f(/^([0-1][0-9]|2[0-3]|[0-9])/,d.hour);b.HH=f(/^([0-1][0-9]|2[0-3])/,d.hour);b.m=f(/^([0-5][0-9]|[0-9])/,d.minute);b.mm=f(/^[0-5][0-9]/,d.minute);b.s=f(/^([0-5][0-9]|[0-9])/,d.second);b.ss=f(/^[0-5][0-9]/,d.second);b["ss.s"]=f(/^[0-5][0-9]\.[0-9]{1,3}/,d.secondAndMillisecond);b.hms=e.cache(e.sequence([b.H,b.m,b.s],b.timePartDelimiter));b.t=e.cache(e.process(b.ctoken2("shortMeridian"),d.meridian));b.tt=e.cache(e.process(b.ctoken2("longMeridian"),d.meridian));
b.z=f(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/,d.timezone);b.zz=f(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/,d.timezone);b.zzz=e.cache(e.process(b.ctoken2("timezone"),d.timezone));b.timeSuffix=e.each(e.ignore(b.whiteSpace),e.set([b.tt,b.zzz]));b.time=e.each(e.optional(e.ignore(e.stoken("T"))),b.hms,b.timeSuffix);b.d=f(/^([0-2]\d|3[0-1]|\d)/,d.day,"ordinalSuffix");b.dd=f(/^([0-2]\d|3[0-1])/,d.day,"ordinalSuffix");b.ddd=b.dddd=e.cache(e.process(b.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=
a}}));b.M=f(/^(1[0-2]|0\d|\d)/,d.month);b.MM=f(/^(1[0-2]|0\d)/,d.month);b.MMM=b.MMMM=e.cache(e.process(b.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));b.y=f(/^(\d+)/,d.year);b.yy=f(/^(\d\d)/,d.year);b.yyy=f(/^(\d\d?\d?\d?)/,d.year);b.yyyy=f(/^(\d\d\d\d)/,d.year);a=function(){return e.each(e.any.apply(null,arguments),e.not(b.ctoken2("timeContext")))};b.day=a(b.d,b.dd);b.month=a(b.M,b.MMM);b.year=a(b.yyyy,b.yy);b.orientation=e.process(b.ctoken("past future"),function(a){return function(){this.orient=
a}});b.operator=e.process(b.ctoken("add subtract"),function(a){return function(){this.operator=a}});b.rday=e.process(b.ctoken("yesterday tomorrow today now"),d.rday);b.unit=e.process(b.ctoken("second minute hour day week month year"),function(a){return function(){this.unit=a}});b.value=e.process(e.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});b.expression=e.set([b.rday,b.operator,b.value,b.unit,b.orientation,b.ddd,b.MMM]);a=function(){return e.set(arguments,
b.datePartDelimiter)};b.mdy=a(b.ddd,b.month,b.day,b.year);b.ymd=a(b.ddd,b.year,b.month,b.day);b.dmy=a(b.ddd,b.day,b.month,b.year);b.date=function(a){return(b[Date.CultureInfo.dateElementOrder]||b.mdy).call(this,a)};b.format=e.process(e.many(e.any(e.process(e.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(b[a])return b[a];throw g.Parsing.Exception(a);}),e.process(e.rtoken(/^[^dMyhHmstz]+/),function(a){return e.ignore(e.stoken(a))}))),function(a){return e.process(e.each.apply(null,
a),d.finishExact)});b._start=e.process(e.set([b.date,b.time,b.expression],b.generalDelimiter,b.whiteSpace),d.finish)};b.buildGrammarFormats();b._formats=b.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ss.sz;yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));b.start=function(a){try{var c=b._formats.call({},
a);if(0===c[1].length)return c}catch(d){}return b._start.call({},a)}})();
(function(){var g=Date,e={removeOrds:function(b){return b=(ords=b.match(/\b(\d+)(?:st|nd|rd|th)\b/))&&2===ords.length?b.replace(ords[0],ords[1]):b},grammarParser:function(b){var d=null;try{d=g.Grammar.start.call({},b.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(a){return null}return 0===d[1].length?d[0]:null},nativeFallback:function(b){var d;try{return(d=Date._parse(b))||0===d?new Date(d):null}catch(a){return null}}};g._parse||(g._parse=g.parse);g.parse=function(b){var d;if(!b)return null;if(b instanceof
Date)return b.clone();4<=b.length&&"0"!==b.charAt(0)&&"+"!==b.charAt(0)&&"-"!==b.charAt(0)&&(d=g.Parsing.ISO.parse(b)||g.Parsing.Numeric.parse(b));if(d instanceof Date&&!isNaN(d.getTime()))return d;b=g.Parsing.Normalizer.parse(e.removeOrds(b));d=e.grammarParser(b);return null!==d?d:e.nativeFallback(b)};Date.getParseFunction=function(b){var d=Date.Grammar.allformats(b);return function(a){for(var b=null,f=0;f<d.length;f++){try{b=d[f].call({},a)}catch(e){continue}if(0===b[1].length)return b[0]}return null}};
g.parseExact=function(b,d){return g.getParseFunction(d)(b)}})();
(function(){var g=Date,e=g.prototype,b=function(a,b){b||(b=2);return("000"+a).slice(-1*b)};g.normalizeFormat=function(a){return a};g.strftime=function(a,b){return(new Date(1E3*b)).$format(a)};g.strtotime=function(a){a=g.parse(a);a.addMinutes(-1*a.getTimezoneOffset());return Math.round(g.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())/1E3)};var d=function(a){var c;return function(d){var e,m=!1;if("\\"===d.charAt(0)||
"%%"===d.substring(0,2))return d.replace("\\","").replace("%%","%");switch(d){case "d":case "%d":e="dd";break;case "D":case "%a":e="ddd";break;case "j":case "l":case "%A":e="dddd";break;case "N":case "%u":return a.getDay()+1;case "S":e="S";break;case "w":case "%w":return a.getDay();case "z":return a.getOrdinalNumber();case "%j":return b(a.getOrdinalNumber(),3);case "%U":return d=a.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),e=a.clone().addDays(1).moveToDayOfWeek(0,-1),e<d?"00":b((e.getOrdinalNumber()-
d.getOrdinalNumber())/7+1);case "W":case "%V":return a.getISOWeek();case "%W":return b(a.getWeek());case "F":case "%B":e="MMMM";break;case "m":case "%m":e="MM";break;case "M":case "%b":case "%h":e="MMM";break;case "n":e="M";break;case "t":return g.getDaysInMonth(a.getFullYear(),a.getMonth());case "L":return g.isLeapYear(a.getFullYear())?1:0;case "o":case "%G":return a.setWeek(a.getISOWeek()).toString("yyyy");case "%g":return a.$format("%G").slice(-2);case "Y":case "%Y":e="yyyy";break;case "y":case "%y":e=
"yy";break;case "a":case "%p":return a.toString("tt",void 0).toLowerCase();case "A":return a.toString("tt",void 0).toUpperCase();case "g":case "%I":e="h";break;case "G":e="H";break;case "h":e="hh";break;case "H":case "%H":e="HH";break;case "i":case "%M":e="mm";break;case "s":case "%S":e="ss";break;case "u":return b(a.getMilliseconds(),3);case "I":return a.isDaylightSavingTime()?1:0;case "O":return a.getUTCOffset();case "P":return c=a.getUTCOffset(),c.substring(0,c.length-2)+":"+c.substring(c.length-
2);case "e":case "T":case "%z":case "%Z":return a.getTimezone();case "Z":return-60*a.getTimezoneOffset();case "B":return d=new Date,Math.floor((3600*d.getHours()+60*d.getMinutes()+d.getSeconds()+60*(d.getTimezoneOffset()+60))/86.4);case "c":return a.toISOString().replace(/\"/g,"");case "U":return g.strtotime("now");case "%c":return a.toString("d",void 0)+" "+a.toString("t",void 0);case "%C":return Math.floor(a.getFullYear()/100+1);case "%D":e="MM/dd/yy";break;case "%n":return"\\n";case "%t":return"\\t";
case "%r":e="hh:mm tt";break;case "%R":e="H:mm";break;case "%T":e="H:mm:ss";break;case "%e":e="d";m=!0;break;case "%x":m=!1;break;case "%X":e="t";break;default:return d}if(e)return a.toString(e,m)}};e.$format=function(a){var b=d(this);return a?a.replace(/(%|\\)?.|%%/g,b):this._toString()};e.format||(e.format=e.$format)})();
(function(){var g=function(b){return function(){return this[b]}},e=function(b){return function(a){this[b]=a;return this}},b=function(d,a,c,e,g){if(1===arguments.length&&"number"===typeof d){var m=0>d?-1:1,h=Math.abs(d);this.setDays(Math.floor(h/864E5)*m);h%=864E5;this.setHours(Math.floor(h/36E5)*m);h%=36E5;this.setMinutes(Math.floor(h/6E4)*m);h%=6E4;this.setSeconds(Math.floor(h/1E3)*m);this.setMilliseconds(h%1E3*m)}else this.set(d,a,c,e,g);this.getTotalMilliseconds=function(){return 864E5*this.getDays()+
36E5*this.getHours()+6E4*this.getMinutes()+1E3*this.getSeconds()};this.compareTo=function(a){var b=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds());a=null===a?new Date(1970,1,1,0,0,0):new Date(1970,1,1,a.getHours(),a.getMinutes(),a.getSeconds());return b<a?-1:b>a?1:0};this.equals=function(a){return 0===this.compareTo(a)};this.add=function(a){return null===a?this:this.addSeconds(a.getTotalMilliseconds()/1E3)};this.subtract=function(a){return null===a?this:this.addSeconds(-a.getTotalMilliseconds()/
1E3)};this.addDays=function(a){return new b(this.getTotalMilliseconds()+864E5*a)};this.addHours=function(a){return new b(this.getTotalMilliseconds()+36E5*a)};this.addMinutes=function(a){return new b(this.getTotalMilliseconds()+6E4*a)};this.addSeconds=function(a){return new b(this.getTotalMilliseconds()+1E3*a)};this.addMilliseconds=function(a){return new b(this.getTotalMilliseconds()+a)};this.get12HourHour=function(){return 12<this.getHours()?this.getHours()-12:0===this.getHours()?12:this.getHours()};
this.getDesignator=function(){return 12>this.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(a){this._toString=function(){return null!==this.getDays()&&0<this.getDays()?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())};this.p=function(a){return 2>a.toString().length?"0"+a:a};var b=this;return a?a.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,
function(a){switch(a){case "d":return b.getDays();case "dd":return b.p(b.getDays());case "H":return b.getHours();case "HH":return b.p(b.getHours());case "h":return b.get12HourHour();case "hh":return b.p(b.get12HourHour());case "m":return b.getMinutes();case "mm":return b.p(b.getMinutes());case "s":return b.getSeconds();case "ss":return b.p(b.getSeconds());case "t":return(12>b.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case "tt":return 12>b.getHours()?Date.CultureInfo.amDesignator:
Date.CultureInfo.pmDesignator}}):this._toString()};return this};(function(b,a){for(var c=0;c<a.length;c++){var f=a[c],l=f.slice(0,1).toUpperCase()+f.slice(1);b.prototype[f]=0;b.prototype["get"+l]=g(f);b.prototype["set"+l]=e(f)}})(b,"years months days hours minutes seconds milliseconds".split(" ").slice(2));b.prototype.set=function(b,a,c,e,g){this.setDays(b||this.getDays());this.setHours(a||this.getHours());this.setMinutes(c||this.getMinutes());this.setSeconds(e||this.getSeconds());this.setMilliseconds(g||
this.getMilliseconds())};Date.prototype.getTimeOfDay=function(){return new b(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.TimeSpan=b;"undefined"!==typeof window&&(window.TimeSpan=b)})();
(function(){var g=function(a){return function(){return this[a]}},e=function(a){return function(b){this[a]=b;return this}},b=function(a,b,d,e){function g(){b.addMonths(-a);e.months++;12===e.months&&(e.years++,e.months=0)}if(1===a)for(;b>d;)g();else for(;b<d;)g();e.months--;e.months*=a;e.years*=a},d=function(a,c,d,e,g,h,k){if(7===arguments.length)this.set(a,c,d,e,g,h,k);else if(2===arguments.length&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var n=arguments[0].clone(),p=arguments[1].clone(),
q=n>p?1:-1;this.dates={start:arguments[0].clone(),end:arguments[1].clone()};b(q,n,p,this);var s=!1===(n.isDaylightSavingTime()===p.isDaylightSavingTime());s&&1===q?n.addHours(-1):s&&n.addHours(1);n=p-n;0!==n&&(n=new TimeSpan(n),this.set(this.years,this.months,n.getDays(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))}return this};(function(a,b){for(var d=0;d<b.length;d++){var l=b[d],m=l.slice(0,1).toUpperCase()+l.slice(1);a.prototype[l]=0;a.prototype["get"+m]=g(l);a.prototype["set"+
m]=e(l)}})(d,"years months days hours minutes seconds milliseconds".split(" "));d.prototype.set=function(a,b,d,e,g,h,k){this.setYears(a||this.getYears());this.setMonths(b||this.getMonths());this.setDays(d||this.getDays());this.setHours(e||this.getHours());this.setMinutes(g||this.getMinutes());this.setSeconds(h||this.getSeconds());this.setMilliseconds(k||this.getMilliseconds())};Date.TimePeriod=d;"undefined"!==typeof window&&(window.TimePeriod=d)})();
